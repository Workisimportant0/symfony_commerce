{% extends 'base.html.twig' %}

{% block title %}Marz moza dou
{% endblock %}

{% block body %}
	<main>
		<div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
			<div class="carousel-indicators">
				<button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
				<button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
				<button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
			</div>
			<div class="carousel-inner">
				{% for slide in listeSlide %}

					<div class="carousel-item {% if loop.first %}active{% endif %}" style="background-image: url('/uploads/{{
					slide.nomImage
					}}'); background-size: contain;
					background-repeat: no-repeat;background-position: center;">
						<div class="container">
							<div class="carousel-caption text-start">
								<h1>
									{{ slide.titre }}
								</h1>
								<p>
									{{ slide.texte }}
								</p>
							</div>
						</div>
					</div>
				{% endfor %}
			</div>
			<button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Previous</span>
			</button>
			<button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Next</span>
			</button>
		</div>

		<div class="album py-5 bg-light">
			<div class="container">

				<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
					{% for produit in listeProduits %}

						<div class="col">
							<div class="card shadow-sm">
								<div style="position:relative">
									<div style="position:absolute">
										{% for libelle in produit.libelles %}
											<span class="badge" style="background-color:#{{libelle.couleur}}">{{libelle.nom}}</span>
										{% endfor %}
									</div>
									<img style="height:300px; width:100%" src="/uploads/{{ produit.nomImage }}">
								</div>

								<div class="card-body">
									<h4>{{ produit.designation}}</h4>
									<p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
									{{ produit.description | slice(0, 100)}}
									<div class="d-flex justify-content-between align-items-center">
										<div class="btn-group">
											<button type="button" class="btn btn-sm btn-outline-secondary">Plus d'info</button>
											{# <button type="button" class="btn btn-sm btn-outline-secondary">Ajouter au panier</button> #}
											<a href="{{path('ajout_panier', {id: produit.id})}}" class="btn btn-sm btn-outline-secondary">Ajouter au panier</a>
										</div>
										<small class="text-muted">{{ produit.prix}}â‚¬</small>
									</div>
								</div>
							</div>
						</div>
					{% endfor %}
				</div>
			</div>
		</div>

	</main>

{% endblock %}
